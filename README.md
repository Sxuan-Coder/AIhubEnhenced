# AIhubEnhenced - AI 对话增强导出助手

一款专业的浏览器扩展,为主流 AI 对话平台提供强大的对话导出功能和智能导航目录。

## 核心特性

### 多平台支持

- **Gemini**
- **ChatGPT**
- **Grok**

### 导出功能

#### 多格式导出

- **TXT** - 纯文本格式,适合快速阅读和分享
- **JSON** - 结构化数据,支持二次开发和数据分析
- **Markdown** - 保留格式的文档,支持 LaTeX 数学公式

#### 导出模式

- **当前对话导出** - 导出正在查看的单个对话
- **批量导出 (ZIP)** - 一键导出所有历史对话(仅 ChatGPT JSON/MD 格式)

#### ChatGPT 专属功能

- **API 模式** - 通过官方 API 获取完整对话数据(推荐)
- **DOM 模式** - 从页面 DOM 提取可见内容(备用方案)
- **批量导出** - 支持导出所有历史对话为 ZIP 压缩包

### 智能导航目录

- **自动生成** - 实时解析对话结构,生成可点击的导航目录
- **快速跳转** - 点击目录项即可滚动到对应消息
- **折叠展开** - 支持目录面板的显示/隐藏
- **暗色模式** - 自动适配系统暗色主题

## 安装方法

### Chrome/Edge 浏览器

1. 下载本项目或克隆到本地

   ```bash
   git clone https://github.com/Sxuan-Coder/AIhubEnhenced.git
   ```

2. 打开浏览器扩展管理页面
   - Chrome: `chrome://extensions/`
   - Edge: `edge://extensions/`

3. 启用"开发者模式"

4. 点击"加载已解压的扩展程序"

5. 选择项目中的 `extension` 文件夹

## 使用指南

### 基本操作

1. **打开控制面板**
   - 点击页面右下角的浮动按钮
   - 或等待页面加载完成后自动显示

2. **选择导出格式**
   - TXT - 纯文本格式
   - JSON - 结构化数据
   - Markdown - 带格式文档

3. **选择导出模式 (仅 ChatGPT)**
   - API 模式(推荐) - 完整数据、支持批量导出
   - DOM 模式(备用) - 从页面提取

4. **导出当前对话**
   - 点击"导出当前对话"按钮
   - 等待处理完成后自动下载

5. **批量导出 (ChatGPT)**
   - 选择 JSON 或 Markdown 格式
   - 选择 API 模式
   - 点击"导出全部对话(ZIP)"
   - 查看进度条,可随时取消

### 导航目录

- **显示目录**: 点击面板中的"显示目录"按钮
- **跳转消息**: 点击目录中的任意项
- **折叠目录**: 再次点击"隐藏目录"按钮

### 文件命名规则

导出的文件自动命名为:

- `ChatGPT-如何学习Rust-2026-01-31.json`
- `Gemini-量子计算原理-2026-01-31.md`
- `Grok-旅行攻略推荐-2026-01-31.txt`

批量导出 ZIP 文件:

```
{平台}-all-conversations-{时间}.zip
```

## 技术实现

### 架构设计

- **适配器模式** - 统一处理不同平台的 DOM 结构差异
- **Trusted Types** - 兼容严格的 CSP 安全策略
- **异步处理** - 非阻塞式导出,保持页面响应
- **进度管理** - 实时反馈长时间操作状态

### 核心组件

### 依赖项

- **JSZip** (3.10.1) - ZIP 压缩功能
- **Trusted Types Polyfill** - CSP 安全支持

## 开发说明

### 项目结构

```
AIhubEnhenced/
├── extension/              # 浏览器扩展主体
│   ├── manifest.json       # 扩展配置文件
│   ├── content.js          # 核心功能脚本
│   ├── styles.css          # 样式表
│   ├── jszip.min.js        # ZIP 压缩库
│   └── icons/              # 扩展图标
│       └── 1024x1024.png
└── README.md
```

## 常见问题

### ChatGPT 导出失败?

- 确保已选择"API 模式"
- 检查是否已登录 ChatGPT 账号
- 尝试刷新页面后重新导出

### 批量导出卡住?

- 点击"取消导出"按钮停止
- 检查网络连接是否正常
- 等待一段时间后重试

### 导航目录不显示?

- 确保当前对话有消息内容
- 尝试手动点击"显示目录"按钮
- 刷新页面重新加载

## 许可证

本项目代码遵循开源协议,仅供学习和个人使用。

## 贡献

欢迎提交 Issue 和 Pull Request!

## 致谢

- JSZip 库提供 ZIP 压缩功能
- Google Fonts 提供 Outfit 字体
- 所有为 AI 对话体验做出贡献的开发者

---

**提示**: 如需更多帮助,请访问 [项目主页](https://github.com/Sxuan-Coder/AIhubEnhenced)
